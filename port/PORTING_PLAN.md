# Slic3r C++ Porting Roadmap & Status Report

This document outlines the current state of the GUI migration from Perl (`port/lib/Slic3r/GUI`) to C++ (`src/GUI`). 

## 1. Executive Summary: The "50% Gap"
A deep scan of the codebase reveals that the migration is currently incomplete. While the core slicing engine (`libslic3r`) is fully ported, the User Interface is in a "half-finished" state.

**Code Volume Comparison:**
*   **Legacy Perl GUI:** ~16,100 lines of code.
*   **Current C++ GUI:** ~7,400 lines of code.
*   **Conclusion:** Roughly **54% of the UI logic is still missing** or has not been reimplemented in C++.

---

## 2. Critical Gaps (High Priority)

### A. Preset & Configuration Management
*   **Status:** The UI can display values but lacks the logic to commit changes.
*   **Missing Logic:**
    *   `save()` and `save_as()` functionality in `Preset.cpp`.
    *   Dirty state detection (tracking unsaved changes).
    *   Inheritance logic (handling dependencies between Printer, Filament, and Print profiles).
*   **Forensic Evidence:** `src/GUI/Dialogs/PresetEditor.cpp:65: // TODO: show save dialog if needed or just save`

### B. Configuration Wizard (First-Run Experience)
*   **Status:** Completely non-existent in C++.
*   **Impact:** New users are left with an empty application and no easy way to set up bed sizes, nozzle diameters, or firmware types.
*   **Forensic Evidence:** `src/GUI/MainFrame.cpp:219: // TODO: Reimplement config wizard`

### C. Undo/Redo System
*   **Status:** Missing in the 3D editor.
*   **Impact:** Any mistake in moving, scaling, or rotating objects requires a manual reset.
*   **Forensic Evidence:** Multiple `// TODO: Undo op` markers in `src/GUI/Plater.cpp`.

---

## 3. Interaction & Feature Gaps (Medium Priority)

| Feature | File | Missing Logic |
| :--- | :--- | :--- |
| **Object Parts** | `ObjectSettingsDialog.cpp` | Ability to set different settings for sub-parts of a model. |
| **Background Processing**| `Plater.cpp` | Logic to stop/pause background slicing when settings change. |
| **Object Manipulation** | `Plater.cpp` | Advanced scaling, cutting, and mirroring logic. |
| **2D Bed View** | `Plate2D.cpp` | Bounding box rendering and collision detection. |

---

## 4. Porting Roadmap (Proposed Action Plan)

### Phase 1: Enabling Persistence (Current Focus)
1.  **Event Wiring:** Complete the `on_change` events in `OptionsGroup.cpp` to ensure UI input reaches the data model. (In Progress)
2.  **Saving:** Implement the `save()` method in `Preset.cpp` to allow writing `.ini` files to the AppData directory.

### Phase 2: User Experience
1.  **Dirty State UI:** Implement the "modified" marker (e.g., an asterisk `*`) next to preset names when changes are made.
2.  **Wizard Restoration:** Rebuild the `ConfigWizard` in C++ based on the logic in `port/lib/Slic3r/GUI/ConfigWizard.pm`.

### Phase 3: Advanced Interactivity
1.  **Undo/Redo:** Implement a command pattern to track changes on the Plater.
2.  **Context Menus:** Reimplement right-click menus for object manipulation.

---
*Generated by Gemini CLI Agent - Feb 1, 2026*